:root{--bg-color: #1a1a2e;--text-color: #eaeaea;--accent-color: #e94560;--orp-color: #e94560;--muted-color: #666;--surface-color: #16213e;--border-color: #0f3460;--font-size-word: 3rem;--font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;--font-family-reading: "Literata Variable", Georgia, serif}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html,body{height:100%;font-family:var(--font-family);background-color:var(--bg-color);color:var(--text-color)}#app{min-height:100%;display:flex;flex-direction:column}.screen{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem}.hidden{display:none!important}#landing-screen h1{font-size:2.5rem;font-weight:300;margin-bottom:.5rem}#landing-screen .subtitle{color:var(--muted-color);margin-bottom:3rem}#drop-zone{width:100%;max-width:400px;padding:3rem 2rem;border:2px dashed var(--border-color);border-radius:12px;text-align:center;transition:all .2s ease;cursor:pointer}#drop-zone:hover,#drop-zone.drag-over{border-color:var(--accent-color);background-color:var(--surface-color)}.drop-text{font-size:1.1rem;margin-bottom:.5rem}.drop-or{color:var(--muted-color);margin:1rem 0}#file-picker-btn{padding:.75rem 2rem;font-size:1rem;background-color:var(--accent-color);color:#fff;border:none;border-radius:6px;cursor:pointer;transition:opacity .2s ease}#file-picker-btn:hover{opacity:.9}#landing-screen .hint{margin-top:2rem;color:var(--muted-color);font-size:.875rem}#reader-screen{position:relative}#word-display{flex:1;display:flex;align-items:center;justify-content:center;width:100%;position:relative}#current-word{font-size:var(--font-size-word);font-weight:400;position:absolute;top:50%;left:0;right:0;transform:translateY(-50%);display:flex;justify-content:center;align-items:center;white-space:nowrap;font-family:var(--font-family-reading);letter-spacing:.01em}#word-left{position:absolute;right:50%;display:flex;justify-content:flex-end;align-items:center}#word-right{position:absolute;left:50%;display:flex;justify-content:flex-start;align-items:center}#word-orp{color:var(--orp-color);display:inline-block;min-width:.6em;text-align:center}#current-word.chunk-mode #word-left{display:none}#current-word.chunk-mode #word-right{position:static;text-align:center}#current-word.chunk-mode #word-after{color:var(--text-color)}#focus-line{position:absolute;inset:0;pointer-events:none;z-index:1;font-size:var(--font-size-word)}#focus-line:before{content:"";position:absolute;top:calc(50% - 1.3em);left:0;right:0;height:1px;background-color:#333}#focus-line:after{content:"";position:absolute;top:calc(50% + 1.3em);left:0;right:0;height:1px;background-color:#333}#word-display:before{content:"";position:absolute;left:calc(50% - .3em);top:calc(50% - 1.3em);width:1px;height:.5em;background-color:#333;transform:translate(-50%);pointer-events:none;z-index:2;font-size:var(--font-size-word)}#word-display:after{content:"";position:absolute;left:calc(50% - .3em);top:calc(50% + .8em);width:1px;height:.5em;background-color:#333;transform:translate(-50%);pointer-events:none;z-index:2;font-size:var(--font-size-word)}#current-word.chunk #word-after{white-space:nowrap}#status-bar{position:fixed;top:1rem;left:50%;transform:translate(-50%);display:flex;gap:2rem;font-size:.875rem;color:var(--muted-color)}#status-indicator{color:var(--muted-color)}#controls-hint{position:fixed;bottom:2rem;color:var(--muted-color);font-size:.875rem}kbd{padding:.2rem .5rem;background-color:var(--surface-color);border-radius:4px;font-family:inherit}#book-info{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:400px}#cover-container{width:180px;height:270px;margin-bottom:1.5rem;position:relative;background-color:var(--surface-color);border-radius:8px;overflow:hidden;box-shadow:0 4px 20px #0000004d}#book-cover{width:100%;height:100%;object-fit:cover}#book-cover[src=""],#book-cover:not([src]){display:none}#cover-placeholder{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;color:var(--muted-color);font-size:.875rem}#book-cover:not([src=""])+#cover-placeholder{display:none}#book-title{font-size:1.5rem;font-weight:500;margin-bottom:.5rem;line-height:1.3}#book-author{color:var(--muted-color);margin-bottom:.5rem}#book-stats{color:var(--muted-color);font-size:.875rem;margin-bottom:2rem}#book-actions{display:flex;flex-direction:column;gap:.75rem;width:100%}#start-reading-btn{padding:.875rem 2rem;font-size:1rem;background-color:var(--accent-color);color:#fff;border:none;border-radius:6px;cursor:pointer;transition:opacity .2s ease}#start-reading-btn:hover{opacity:.9}#choose-different-btn{padding:.75rem 2rem;font-size:.875rem;background-color:transparent;color:var(--muted-color);border:1px solid var(--border-color);border-radius:6px;cursor:pointer;transition:all .2s ease}#choose-different-btn:hover{border-color:var(--text-color);color:var(--text-color)}#start-reading-btn:disabled{opacity:.5;cursor:not-allowed}#start-reading-btn:disabled:hover{opacity:.5}#file-hint{margin:1.5rem 0;text-align:center;width:100%}#file-hint .hint-text{color:var(--muted-color);font-size:.875rem;margin-bottom:1rem}.mini-drop-zone{padding:1.5rem;border:2px dashed var(--border-color);border-radius:8px;transition:all .2s ease;cursor:pointer}.mini-drop-zone:hover,.mini-drop-zone.drag-over{border-color:var(--accent-color);background-color:var(--surface-color)}.mini-drop-zone p{margin-bottom:.5rem;font-size:.9rem}.mini-drop-zone .drop-or{color:var(--muted-color);font-size:.8rem;margin:.5rem 0;display:block}#book-info-file-btn{padding:.5rem 1.5rem;font-size:.875rem;background-color:transparent;color:var(--muted-color);border:1px solid var(--border-color);border-radius:6px;cursor:pointer;transition:all .2s ease}#book-info-file-btn:hover{border-color:var(--text-color);color:var(--text-color)}#chapter-indicator{position:fixed;top:3rem;left:50%;transform:translate(-50%);padding:1rem 2rem;background-color:var(--surface-color);border-radius:8px;font-size:1.25rem;z-index:10;animation:fadeInOut 2s ease-in-out forwards}@keyframes fadeInOut{0%{opacity:0}15%{opacity:1}85%{opacity:1}to{opacity:0}}.loading #drop-zone{pointer-events:none;opacity:.5}.loading-spinner{display:inline-block;width:20px;height:20px;border:2px solid var(--muted-color);border-top-color:var(--accent-color);border-radius:50%;animation:spin .8s linear infinite;margin-right:.5rem;vertical-align:middle}@keyframes spin{to{transform:rotate(360deg)}}.mobile-toolbar{display:none}@media(pointer:coarse),(max-width:768px){.mobile-toolbar{display:flex;flex-direction:column;position:fixed;bottom:0;left:0;right:0;background:#1a1a2ef2;padding:.75rem 1rem;padding-bottom:calc(.75rem + env(safe-area-inset-bottom,0));gap:.5rem;z-index:100;transform:translateY(0);transition:transform .3s ease,opacity .3s ease}.mobile-toolbar.hidden{transform:translateY(100%);opacity:0;pointer-events:none;display:flex!important}#controls-hint{display:none!important}#reader-screen{padding-bottom:90px}#word-display{max-width:100vw;overflow:hidden}#current-word{max-width:95vw}}@media(pointer:coarse)and (orientation:landscape),(max-height:500px){.mobile-toolbar{flex-direction:row;justify-content:center;gap:2rem;padding:.5rem 1rem;padding-bottom:calc(.5rem + env(safe-area-inset-bottom,0))}.toolbar-row{gap:1rem}.toolbar-row.secondary{gap:.75rem}.toolbar-btn.primary-action{width:48px;height:48px;font-size:1.25rem}#reader-screen{padding-bottom:70px}}.toolbar-row{display:flex;justify-content:center;align-items:center;gap:2rem}.toolbar-row.secondary{gap:1.5rem}.toolbar-btn{display:flex;align-items:center;justify-content:center;width:44px;height:44px;padding:0;background:transparent;border:none;color:var(--muted-color);font-family:var(--font-family);font-size:1.25rem;cursor:pointer;touch-action:manipulation;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;transition:color .15s ease,opacity .15s ease}.toolbar-btn:active{color:var(--accent-color)}.toolbar-btn:disabled{opacity:.25;cursor:not-allowed}.toolbar-btn.primary-action{width:56px;height:56px;border-radius:50%;background-color:var(--accent-color);color:var(--text-color);font-size:1.5rem}.toolbar-btn.primary-action:active{opacity:.8}.toolbar-btn.primary-action.playing{background-color:var(--muted-color)}.btn-label{display:none}.btn-icon{line-height:1}.toolbar-btn.active{color:var(--accent-color)}.overlay{position:fixed;inset:0;z-index:200;display:flex;align-items:center;justify-content:center}.overlay-backdrop{position:absolute;inset:0;background:#000000b3}.chapter-list-modal{position:relative;background:var(--surface-color);border-radius:12px;padding:1.5rem;max-width:90vw;width:400px;max-height:70vh;display:flex;flex-direction:column}.chapter-list-modal h2{font-size:1.25rem;font-weight:500;margin-bottom:1rem;color:var(--text-color)}#chapter-list{list-style:none;overflow-y:auto;flex:1;margin:0;padding:0}#chapter-list li{padding:.75rem 1rem;border-radius:6px;cursor:pointer;transition:background-color .15s ease;color:var(--text-color);font-size:.95rem}#chapter-list li:hover{background-color:var(--border-color)}#chapter-list li.current{background-color:var(--accent-color);color:#fff}#chapter-list li .chapter-progress{font-size:.8rem;color:var(--muted-color);margin-left:.5rem}#chapter-list li.current .chapter-progress{color:#ffffffb3}.close-btn{margin-top:1rem;padding:.75rem 1.5rem;font-size:.9rem;background-color:transparent;color:var(--muted-color);border:1px solid var(--border-color);border-radius:6px;cursor:pointer;transition:all .2s ease}.close-btn:hover{border-color:var(--text-color);color:var(--text-color)}@font-face{font-family:Literata Variable;font-style:normal;font-display:swap;font-weight:200 900;src:url(/readlocally/assets/literata-cyrillic-ext-wght-normal-CGKlZYBf.woff2) format("woff2-variations");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Literata Variable;font-style:normal;font-display:swap;font-weight:200 900;src:url(/readlocally/assets/literata-cyrillic-wght-normal-DLqwHbi6.woff2) format("woff2-variations");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Literata Variable;font-style:normal;font-display:swap;font-weight:200 900;src:url(/readlocally/assets/literata-greek-ext-wght-normal-e3e57Shi.woff2) format("woff2-variations");unicode-range:U+1F00-1FFF}@font-face{font-family:Literata Variable;font-style:normal;font-display:swap;font-weight:200 900;src:url(/readlocally/assets/literata-greek-wght-normal-CO1l-giJ.woff2) format("woff2-variations");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Literata Variable;font-style:normal;font-display:swap;font-weight:200 900;src:url(/readlocally/assets/literata-vietnamese-wght-normal-LcSrhZ7T.woff2) format("woff2-variations");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Literata Variable;font-style:normal;font-display:swap;font-weight:200 900;src:url(/readlocally/assets/literata-latin-ext-wght-normal-BnEbWgdZ.woff2) format("woff2-variations");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Literata Variable;font-style:normal;font-display:swap;font-weight:200 900;src:url(/readlocally/assets/literata-latin-wght-normal-DLxlUchJ.woff2) format("woff2-variations");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:400;src:url(/readlocally/assets/merriweather-cyrillic-ext-400-normal-D9NYhYTq.woff2) format("woff2"),url(/readlocally/assets/merriweather-cyrillic-ext-400-normal-Di6yW_eE.woff) format("woff");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:400;src:url(/readlocally/assets/merriweather-cyrillic-400-normal-AvfsDsMQ.woff2) format("woff2"),url(/readlocally/assets/merriweather-cyrillic-400-normal-DAcQ8g-H.woff) format("woff");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:400;src:url(/readlocally/assets/merriweather-vietnamese-400-normal-hNacsVs_.woff2) format("woff2"),url(/readlocally/assets/merriweather-vietnamese-400-normal-Dh8WVvgZ.woff) format("woff");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:400;src:url(/readlocally/assets/merriweather-latin-ext-400-normal-CWVzVQq3.woff2) format("woff2"),url(/readlocally/assets/merriweather-latin-ext-400-normal-CLqijLtt.woff) format("woff");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:400;src:url(/readlocally/assets/merriweather-latin-400-normal-G4kZaoXi.woff2) format("woff2"),url(/readlocally/assets/merriweather-latin-400-normal-CvqO63Ah.woff) format("woff");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:700;src:url(/readlocally/assets/merriweather-cyrillic-ext-700-normal-Bk1p9YoV.woff2) format("woff2"),url(/readlocally/assets/merriweather-cyrillic-ext-700-normal-DoooT6Vg.woff) format("woff");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:700;src:url(/readlocally/assets/merriweather-cyrillic-700-normal-wbY04GlL.woff2) format("woff2"),url(/readlocally/assets/merriweather-cyrillic-700-normal-CHCcU-4a.woff) format("woff");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:700;src:url(/readlocally/assets/merriweather-vietnamese-700-normal-Bp6kWjW5.woff2) format("woff2"),url(/readlocally/assets/merriweather-vietnamese-700-normal-C7_HxHBa.woff) format("woff");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:700;src:url(/readlocally/assets/merriweather-latin-ext-700-normal-jHnxg2Kc.woff2) format("woff2"),url(/readlocally/assets/merriweather-latin-ext-700-normal-CaBzXGOk.woff) format("woff");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:700;src:url(/readlocally/assets/merriweather-latin-700-normal-DoUP8Ce-.woff2) format("woff2"),url(/readlocally/assets/merriweather-latin-700-normal-D4-nzrAh.woff) format("woff");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:"Source Serif 4 Variable";font-style:normal;font-display:swap;font-weight:200 900;src:url(/readlocally/assets/source-serif-4-cyrillic-ext-wght-normal-cHuGMAiY.woff2) format("woff2-variations");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:"Source Serif 4 Variable";font-style:normal;font-display:swap;font-weight:200 900;src:url(/readlocally/assets/source-serif-4-cyrillic-wght-normal-DwHjdM4S.woff2) format("woff2-variations");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:"Source Serif 4 Variable";font-style:normal;font-display:swap;font-weight:200 900;src:url(/readlocally/assets/source-serif-4-greek-wght-normal-ece1310W.woff2) format("woff2-variations");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:"Source Serif 4 Variable";font-style:normal;font-display:swap;font-weight:200 900;src:url(/readlocally/assets/source-serif-4-vietnamese-wght-normal-D-yuW59g.woff2) format("woff2-variations");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:"Source Serif 4 Variable";font-style:normal;font-display:swap;font-weight:200 900;src:url(/readlocally/assets/source-serif-4-latin-ext-wght-normal-CxNHBx-q.woff2) format("woff2-variations");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:"Source Serif 4 Variable";font-style:normal;font-display:swap;font-weight:200 900;src:url(/readlocally/assets/source-serif-4-latin-wght-normal-D9elroTD.woff2) format("woff2-variations");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}
