<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RSVP Reader</title>
  <script type="module" crossorigin src="/readlocally/assets/index-wrAP2iAj.js"></script>
  <link rel="stylesheet" crossorigin href="/readlocally/assets/index-SL2iCURX.css">
</head>
<body>
  <div id="app">
    <!-- Landing Screen -->
    <div id="landing-screen" class="screen">
      <h1>RSVP Reader</h1>
      <p class="subtitle">Speed reading with Rapid Serial Visual Presentation</p>

      <div id="drop-zone">
        <div class="drop-zone-content">
          <p class="drop-text">Drop EPUB file here</p>
          <p class="drop-or">or</p>
          <button id="file-picker-btn" type="button">Choose File</button>
          <input type="file" id="file-input" accept=".epub" hidden>
        </div>
      </div>

      <p class="hint">Only EPUB files are supported</p>
    </div>

    <!-- Book Info Screen -->
    <div id="book-info-screen" class="screen hidden">
      <div id="book-info">
        <div id="cover-container">
          <img id="book-cover" src="" alt="Book cover">
          <div id="cover-placeholder">No Cover</div>
        </div>
        <h2 id="book-title">Book Title</h2>
        <p id="book-author">Author Name</p>
        <p id="book-stats"></p>

        <!-- File selection hint (shown when file isn't cached/available) -->
        <div id="file-hint" class="hidden">
          <p class="hint-text">To resume, select or drop the same file:</p>
          <div id="book-info-drop-zone" class="mini-drop-zone">
            <p>Drop EPUB here</p>
            <span class="drop-or">or</span>
            <button id="book-info-file-btn" type="button" class="secondary">Select File</button>
          </div>
        </div>

        <div id="book-actions">
          <button id="start-reading-btn" type="button">Start Reading</button>
          <button id="choose-different-btn" type="button" class="secondary">Choose Different Book</button>
        </div>
      </div>
    </div>

    <!-- Reader Screen -->
    <div id="reader-screen" class="screen hidden">
      <div id="word-display">
        <div id="focus-line"></div>
        <div id="current-word">
          <div id="word-left"><span id="word-before"></span><span id="word-orp"></span></div>
          <div id="word-right"><span id="word-after"></span></div>
        </div>
      </div>

      <div id="chapter-indicator" class="hidden">
        <span id="chapter-title"></span>
      </div>

      <div id="status-bar">
        <span id="status-indicator">Paused</span>
        <span id="wpm-display">300 WPM</span>
        <span id="chunk-display">1 word</span>
        <span id="progress-display">0%</span>
      </div>

      <div id="controls-hint">
        <kbd>Space</kbd> play/pause | <kbd>↑↓</kbd> speed | <kbd>1-5</kbd> chunks | <kbd>+/-</kbd> size | <kbd>F</kbd> font | <kbd>Esc</kbd> menu
      </div>

      <!-- Mobile Touch Controls -->
      <div id="mobile-toolbar" class="mobile-toolbar">
        <div class="toolbar-row">
          <button class="toolbar-btn" id="btn-speed-down" aria-label="Slower">−</button>
          <button class="toolbar-btn" id="btn-step-back" aria-label="Back" disabled>⏮</button>
          <button class="toolbar-btn primary-action" id="btn-play-pause" aria-label="Play/Pause">
            <span id="play-pause-icon">▶</span>
          </button>
          <button class="toolbar-btn" id="btn-step-forward" aria-label="Next" disabled>⏭</button>
          <button class="toolbar-btn" id="btn-speed-up" aria-label="Faster">+</button>
        </div>
        <div class="toolbar-row secondary">
          <button class="toolbar-btn" id="btn-chunk-cycle" aria-label="Chunk size"><span id="chunk-icon">1</span></button>
          <button class="toolbar-btn" id="btn-font-down" aria-label="Smaller text">A↓</button>
          <button class="toolbar-btn" id="btn-font-up" aria-label="Larger text">A↑</button>
          <button class="toolbar-btn" id="btn-font-cycle" aria-label="Font">Aa</button>
          <button class="toolbar-btn" id="btn-menu" aria-label="Menu">✕</button>
        </div>
      </div>
    </div>
  </div>

</body>
</html>
